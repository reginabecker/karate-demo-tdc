[{"line":1,"elements":[{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url demoBaseUrl","result":{"duration":13946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":12},{"name":"path 'headers'","result":{"duration":183605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":13},{"name":"method get","result":{"duration":8681614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":14,"doc_string":{"content_type":"","value":"11:04:58.180 request:\n1 > GET http:\/\/127.0.0.1:51918\/headers\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: 127.0.0.1:51918\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:04:58.186 response time in milliseconds: 5.02\n1 < 200\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Content-Length: 36\n1 < Content-Type: text\/plain;charset=UTF-8\n1 < Date: Tue, 09 Apr 2019 14:04:58 GMT\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Set-Cookie: time=1554818698183\n1 < X-Content-Type-Options: nosniff\n1 < X-Frame-Options: DENY\n1 < X-XSS-Protection: 1; mode=block\n6551c189-d779-4f01-b2b7-3c54271c944d","line":14}},{"name":"status 200","result":{"duration":4695,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":15},{"name":"def token = response","result":{"duration":13101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"def time = responseCookies.time.value","result":{"duration":3606250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"match responseCookies contains { time: '#notnull' }","result":{"duration":232202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"match responseCookies !contains { blah: '#notnull' }","result":{"duration":156866,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26}]},{"line":28,"name":"configure function","description":"this is the approach that most projects would use, especially if some header needs\n    to be dynamic for each request. for e.g. see how a 'request_id' header is set in 'headers.js'\n    for an example of how the steps in the 'Background:' can be moved into a re-usable feature\n    refer to 'call-updates-config.feature' and 'common.feature'","id":"configure-function","type":"scenario","keyword":"Scenario","steps":[{"name":"configure headers = read('classpath:headers.js')","result":{"duration":18379583,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"path 'headers', token","result":{"duration":199917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":35},{"name":"param url = demoBaseUrl","result":{"duration":24054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"method get","result":{"duration":31733265,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":37,"doc_string":{"content_type":"","value":"11:04:58.230 request:\n2 > GET http:\/\/127.0.0.1:51918\/headers\/6551c189-d779-4f01-b2b7-3c54271c944d?url=http%3A%2F%2F127.0.0.1%3A51918\n2 > Accept-Encoding: gzip,deflate\n2 > Authorization: 6551c189-d779-4f01-b2b7-3c54271c944d1554818698183http:\/\/127.0.0.1:51918\n2 > Connection: Keep-Alive\n2 > Cookie: time=1554818698183\n2 > Host: 127.0.0.1:51918\n2 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n2 > request_id: 7d27c5dd-a62d-4548-a9ca-d20bad43254d\n\n11:04:58.241 response time in milliseconds: 9.96\n2 < 200\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 0\n2 < Date: Tue, 09 Apr 2019 14:04:58 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < X-Content-Type-Options: nosniff\n2 < X-Frame-Options: DENY\n2 < X-XSS-Protection: 1; mode=block","line":37}},{"name":"status 200","result":{"duration":4099,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":38}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url demoBaseUrl","result":{"duration":11663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":12},{"name":"path 'headers'","result":{"duration":109000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":13},{"name":"method get","result":{"duration":7169529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":14,"doc_string":{"content_type":"","value":"11:04:58.298 request:\n1 > GET http:\/\/127.0.0.1:51918\/headers\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: 127.0.0.1:51918\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:04:58.303 response time in milliseconds: 4.63\n1 < 200\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Content-Length: 36\n1 < Content-Type: text\/plain;charset=UTF-8\n1 < Date: Tue, 09 Apr 2019 14:04:58 GMT\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Set-Cookie: time=1554818698301\n1 < X-Content-Type-Options: nosniff\n1 < X-Frame-Options: DENY\n1 < X-XSS-Protection: 1; mode=block\n79fec870-79b5-44bf-aac2-7fb3c3193ad2","line":14}},{"name":"status 200","result":{"duration":3684,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":15},{"name":"def token = response","result":{"duration":8348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"def time = responseCookies.time.value","result":{"duration":391149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"match responseCookies contains { time: '#notnull' }","result":{"duration":205831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"match responseCookies !contains { blah: '#notnull' }","result":{"duration":140049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26}]},{"line":40,"name":"configure json","description":"","id":"configure-json","type":"scenario","keyword":"Scenario","steps":[{"name":"configure headers = { Authorization: '#(token + time + demoBaseUrl)' }","result":{"duration":17745422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":41},{"name":"path 'headers', token","result":{"duration":119658,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":42},{"name":"param url = demoBaseUrl","result":{"duration":19484,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"method get","result":{"duration":8424366,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":44,"doc_string":{"content_type":"","value":"11:04:58.325 request:\n2 > GET http:\/\/127.0.0.1:51918\/headers\/79fec870-79b5-44bf-aac2-7fb3c3193ad2?url=http%3A%2F%2F127.0.0.1%3A51918\n2 > Accept-Encoding: gzip,deflate\n2 > Authorization: 79fec870-79b5-44bf-aac2-7fb3c3193ad21554818698301http:\/\/127.0.0.1:51918\n2 > Connection: Keep-Alive\n2 > Cookie: time=1554818698301\n2 > Host: 127.0.0.1:51918\n2 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:04:58.331 response time in milliseconds: 5.88\n2 < 200\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 0\n2 < Date: Tue, 09 Apr 2019 14:04:58 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < X-Content-Type-Options: nosniff\n2 < X-Frame-Options: DENY\n2 < X-XSS-Protection: 1; mode=block","line":44}},{"name":"status 200","result":{"duration":4910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":45}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url demoBaseUrl","result":{"duration":9997,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":12},{"name":"path 'headers'","result":{"duration":2555969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":13},{"name":"method get","result":{"duration":5866800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":14,"doc_string":{"content_type":"","value":"11:05:00.569 request:\n1 > GET http:\/\/127.0.0.1:51918\/headers\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: 127.0.0.1:51918\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:05:00.573 response time in milliseconds: 3.70\n1 < 200\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Content-Length: 36\n1 < Content-Type: text\/plain;charset=UTF-8\n1 < Date: Tue, 09 Apr 2019 14:05:00 GMT\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Set-Cookie: time=1554818700571\n1 < X-Content-Type-Options: nosniff\n1 < X-Frame-Options: DENY\n1 < X-XSS-Protection: 1; mode=block\naf559be4-f5fd-4ffa-8589-1a6b5993ba18","line":14}},{"name":"status 200","result":{"duration":4450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":15},{"name":"def token = response","result":{"duration":11986,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"def time = responseCookies.time.value","result":{"duration":10654205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"match responseCookies contains { time: '#notnull' }","result":{"duration":228788,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"match responseCookies !contains { blah: '#notnull' }","result":{"duration":132661,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26}]},{"line":47,"name":"set header","description":"","id":"set-header","type":"scenario","keyword":"Scenario","steps":[{"name":"header Authorization = token + time + demoBaseUrl","result":{"duration":7070148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":48},{"name":"path 'headers', token","result":{"duration":6170140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":49},{"name":"param url = demoBaseUrl","result":{"duration":16095,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":50},{"name":"method get","result":{"duration":7966041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":51,"doc_string":{"content_type":"","value":"11:05:00.600 request:\n2 > GET http:\/\/127.0.0.1:51918\/headers\/af559be4-f5fd-4ffa-8589-1a6b5993ba18?url=http%3A%2F%2F127.0.0.1%3A51918\n2 > Accept-Encoding: gzip,deflate\n2 > Authorization: af559be4-f5fd-4ffa-8589-1a6b5993ba181554818700571http:\/\/127.0.0.1:51918\n2 > Connection: Keep-Alive\n2 > Cookie: time=1554818700571\n2 > Host: 127.0.0.1:51918\n2 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:05:00.606 response time in milliseconds: 5.54\n2 < 200\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 0\n2 < Date: Tue, 09 Apr 2019 14:05:00 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < X-Content-Type-Options: nosniff\n2 < X-Frame-Options: DENY\n2 < X-XSS-Protection: 1; mode=block","line":51}},{"name":"status 200","result":{"duration":3853,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":52}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url demoBaseUrl","result":{"duration":9177,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":12},{"name":"path 'headers'","result":{"duration":136063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":13},{"name":"method get","result":{"duration":4813595,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":14,"doc_string":{"content_type":"","value":"11:05:00.680 request:\n1 > GET http:\/\/127.0.0.1:51918\/headers\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: 127.0.0.1:51918\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:05:00.684 response time in milliseconds: 2.96\n1 < 200\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Content-Length: 36\n1 < Content-Type: text\/plain;charset=UTF-8\n1 < Date: Tue, 09 Apr 2019 14:05:00 GMT\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Set-Cookie: time=1554818700682\n1 < X-Content-Type-Options: nosniff\n1 < X-Frame-Options: DENY\n1 < X-XSS-Protection: 1; mode=block\n173d2c8b-cfca-4c7e-96ad-8dd3d001d9a0","line":14}},{"name":"status 200","result":{"duration":5969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":15},{"name":"def token = response","result":{"duration":15227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"def time = responseCookies.time.value","result":{"duration":2076365,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"match responseCookies contains { time: '#notnull' }","result":{"duration":174737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"match responseCookies !contains { blah: '#notnull' }","result":{"duration":129973,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26}]},{"line":54,"name":"multi-value headers","description":"","id":"multi-value-headers","type":"scenario","keyword":"Scenario","steps":[{"name":"header Authorization = 'dummy', token + time + demoBaseUrl","result":{"duration":19152415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"path 'headers', token","result":{"duration":126319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":56},{"name":"param url = demoBaseUrl","result":{"duration":12021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":57},{"name":"method get","result":{"duration":6945040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":58,"doc_string":{"content_type":"","value":"11:05:00.708 request:\n2 > GET http:\/\/127.0.0.1:51918\/headers\/173d2c8b-cfca-4c7e-96ad-8dd3d001d9a0?url=http%3A%2F%2F127.0.0.1%3A51918\n2 > Accept-Encoding: gzip,deflate\n2 > Authorization: [dummy, 173d2c8b-cfca-4c7e-96ad-8dd3d001d9a01554818700682http:\/\/127.0.0.1:51918]\n2 > Connection: Keep-Alive\n2 > Cookie: time=1554818700682\n2 > Host: 127.0.0.1:51918\n2 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:05:00.713 response time in milliseconds: 4.90\n2 < 200\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 0\n2 < Date: Tue, 09 Apr 2019 14:05:00 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < X-Content-Type-Options: nosniff\n2 < X-Frame-Options: DENY\n2 < X-XSS-Protection: 1; mode=block","line":58}},{"name":"status 200","result":{"duration":3795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":59}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url demoBaseUrl","result":{"duration":7779,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":12},{"name":"path 'headers'","result":{"duration":2067634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":13},{"name":"method get","result":{"duration":5515147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":14,"doc_string":{"content_type":"","value":"11:05:01.069 request:\n1 > GET http:\/\/127.0.0.1:51918\/headers\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: 127.0.0.1:51918\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:05:01.073 response time in milliseconds: 3.39\n1 < 200\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Content-Length: 36\n1 < Content-Type: text\/plain;charset=UTF-8\n1 < Date: Tue, 09 Apr 2019 14:05:00 GMT\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Set-Cookie: time=1554818701071\n1 < X-Content-Type-Options: nosniff\n1 < X-Frame-Options: DENY\n1 < X-XSS-Protection: 1; mode=block\nb2788053-7aa7-4fcb-8651-743cf8520b9d","line":14}},{"name":"status 200","result":{"duration":4534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":15},{"name":"def token = response","result":{"duration":13747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"def time = responseCookies.time.value","result":{"duration":34231682,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"match responseCookies contains { time: '#notnull' }","result":{"duration":206489,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"match responseCookies !contains { blah: '#notnull' }","result":{"duration":6058652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26}]},{"line":61,"name":"set headers using json","description":"","id":"set-headers-using-json","type":"scenario","keyword":"Scenario","steps":[{"name":"headers { Authorization: '#(token + time + demoBaseUrl)' }","result":{"duration":4130799,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"path 'headers', token","result":{"duration":10109954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":63},{"name":"param url = demoBaseUrl","result":{"duration":17561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":64},{"name":"method get","result":{"duration":6995117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":65,"doc_string":{"content_type":"","value":"11:05:01.130 request:\n2 > GET http:\/\/127.0.0.1:51918\/headers\/b2788053-7aa7-4fcb-8651-743cf8520b9d?url=http%3A%2F%2F127.0.0.1%3A51918\n2 > Accept-Encoding: gzip,deflate\n2 > Authorization: b2788053-7aa7-4fcb-8651-743cf8520b9d1554818701071http:\/\/127.0.0.1:51918\n2 > Connection: Keep-Alive\n2 > Cookie: time=1554818701071\n2 > Host: 127.0.0.1:51918\n2 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:05:01.135 response time in milliseconds: 4.97\n2 < 200\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 0\n2 < Date: Tue, 09 Apr 2019 14:05:00 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < X-Content-Type-Options: nosniff\n2 < X-Frame-Options: DENY\n2 < X-XSS-Protection: 1; mode=block","line":65}},{"name":"status 200","result":{"duration":4575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":66}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url demoBaseUrl","result":{"duration":10361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":12},{"name":"path 'headers'","result":{"duration":142858,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":13},{"name":"method get","result":{"duration":8645345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":14,"doc_string":{"content_type":"","value":"11:05:01.163 request:\n1 > GET http:\/\/127.0.0.1:51918\/headers\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: 127.0.0.1:51918\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:05:01.168 response time in milliseconds: 4.10\n1 < 200\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Content-Length: 36\n1 < Content-Type: text\/plain;charset=UTF-8\n1 < Date: Tue, 09 Apr 2019 14:05:00 GMT\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Set-Cookie: time=1554818701166\n1 < X-Content-Type-Options: nosniff\n1 < X-Frame-Options: DENY\n1 < X-XSS-Protection: 1; mode=block\n28599200-f93c-44a8-9d7b-aa2f88b4fd27","line":14}},{"name":"status 200","result":{"duration":3960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":15},{"name":"def token = response","result":{"duration":12150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"def time = responseCookies.time.value","result":{"duration":329874,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"match responseCookies contains { time: '#notnull' }","result":{"duration":208223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"match responseCookies !contains { blah: '#notnull' }","result":{"duration":128765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26}]},{"line":68,"name":"set multi-value headers using json","description":"","id":"set-multi-value-headers-using-json","type":"scenario","keyword":"Scenario","steps":[{"name":"headers { Authorization: ['dummy', '#(token + time + demoBaseUrl)'] }","result":{"duration":710530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":69},{"name":"path 'headers', token","result":{"duration":93061,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":70},{"name":"param url = demoBaseUrl","result":{"duration":9650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":71},{"name":"method get","result":{"duration":8954619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":72,"doc_string":{"content_type":"","value":"11:05:01.172 request:\n2 > GET http:\/\/127.0.0.1:51918\/headers\/28599200-f93c-44a8-9d7b-aa2f88b4fd27?url=http%3A%2F%2F127.0.0.1%3A51918\n2 > Accept-Encoding: gzip,deflate\n2 > Authorization: [dummy, 28599200-f93c-44a8-9d7b-aa2f88b4fd271554818701166http:\/\/127.0.0.1:51918]\n2 > Connection: Keep-Alive\n2 > Cookie: time=1554818701166\n2 > Host: 127.0.0.1:51918\n2 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:05:01.179 response time in milliseconds: 4.69\n2 < 200\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 0\n2 < Date: Tue, 09 Apr 2019 14:05:00 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < X-Content-Type-Options: nosniff\n2 < X-Frame-Options: DENY\n2 < X-XSS-Protection: 1; mode=block","line":72}},{"name":"status 200","result":{"duration":3398,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":73}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url demoBaseUrl","result":{"duration":7389,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":12},{"name":"path 'headers'","result":{"duration":110998,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":13},{"name":"method get","result":{"duration":38138721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":14,"doc_string":{"content_type":"","value":"11:05:01.236 request:\n1 > GET http:\/\/127.0.0.1:51918\/headers\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: 127.0.0.1:51918\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:05:01.273 response time in milliseconds: 36.29\n1 < 200\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Content-Length: 36\n1 < Content-Type: text\/plain;charset=UTF-8\n1 < Date: Tue, 09 Apr 2019 14:05:00 GMT\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Set-Cookie: time=1554818701238\n1 < X-Content-Type-Options: nosniff\n1 < X-Frame-Options: DENY\n1 < X-XSS-Protection: 1; mode=block\nb7b4b28d-d492-47b3-82cd-1058775925b8","line":14}},{"name":"status 200","result":{"duration":5538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":15},{"name":"def token = response","result":{"duration":11253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"def time = responseCookies.time.value","result":{"duration":373129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"match responseCookies contains { time: '#notnull' }","result":{"duration":242310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"match responseCookies !contains { blah: '#notnull' }","result":{"duration":129171,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26}]},{"line":75,"name":"set multi-value headers using function call","description":"","id":"set-multi-value-headers-using-function-call","type":"scenario","keyword":"Scenario","steps":[{"name":"def fun = function(arg){ return [arg.first, arg.second] }","result":{"duration":15567466,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":77},{"name":"header Authorization = call fun { first: 'dummy', second: '#(token + time + demoBaseUrl)' }","result":{"duration":6365787,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":78},{"name":"path 'headers', token","result":{"duration":145809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":79},{"name":"param url = demoBaseUrl","result":{"duration":11691,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":80},{"name":"method get","result":{"duration":12647031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":81,"doc_string":{"content_type":"","value":"11:05:01.299 request:\n2 > GET http:\/\/127.0.0.1:51918\/headers\/b7b4b28d-d492-47b3-82cd-1058775925b8?url=http%3A%2F%2F127.0.0.1%3A51918\n2 > Accept-Encoding: gzip,deflate\n2 > Authorization: [dummy, b7b4b28d-d492-47b3-82cd-1058775925b81554818701238http:\/\/127.0.0.1:51918]\n2 > Connection: Keep-Alive\n2 > Cookie: time=1554818701238\n2 > Host: 127.0.0.1:51918\n2 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:05:01.309 response time in milliseconds: 7.94\n2 < 200\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Length: 0\n2 < Date: Tue, 09 Apr 2019 14:05:00 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < X-Content-Type-Options: nosniff\n2 < X-Frame-Options: DENY\n2 < X-XSS-Protection: 1; mode=block","line":81}},{"name":"status 200","result":{"duration":5094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":82}]}],"name":"demo\/headers\/headers.feature","description":"multiple header management approaches that demonstrate how after\nan initial 'sign-in' that retrieves some secure tokens, every subsequent\n    request can have the 'Authorization' header set in a way that the server expects","id":"multiple-header-management-approaches-that-demonstrate-how-after","keyword":"Feature","uri":"demo\/headers\/headers.feature"}]