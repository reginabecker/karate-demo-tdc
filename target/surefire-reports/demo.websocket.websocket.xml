<testsuite failures="0" name="demo/websocket/websocket.feature" skipped="0" tests="2" time="4.027571">
  <testcase classname="demo.websocket.websocket" name="only listening to websocket messages" time="2.094053">
    <system-out>* def handler = function(msg){ if (msg.startsWith('{')) karate.signal(msg) } . passed
* eval karate.webSocket(demoBaseUrl + '/websocket', handler) .............. passed
Given url demoBaseUrl ..................................................... passed
And path 'websocket-controller' ........................................... passed
And request { text: 'Rudy' } .............................................. passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def id = response.id .................................................. passed
* def result = karate.listen(5000) ........................................ passed
* match result == { id: '#(id)', content: 'hello Rudy !' } ................ passed</system-out>
  </testcase>
  <testcase classname="demo.websocket.websocket" name="using the websocket instance to send as well as receive messages" time="1.933517">
    <system-out>* def handler = function(msg){ if (msg.startsWith('{')) karate.signal(msg) } . passed
* eval karate.webSocket(demoBaseUrl + '/websocket', handler) .............. passed
Given url demoBaseUrl ..................................................... passed
And path 'websocket-controller' ........................................... passed
And request { text: 'Rudy' } .............................................. passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def id = response.id .................................................. passed
* def result = karate.listen(5000) ........................................ passed
* match result == { id: '#(id)', content: 'hello Rudy !' } ................ passed
* def handler = function(msg){ if (msg.startsWith('hello')) karate.signal(msg) } . passed
* def socket = karate.webSocket(demoBaseUrl + '/websocket', handler) ...... passed
* eval socket.send('Billie') .............................................. passed
* def result = karate.listen(5000) ........................................ passed
* match result == 'hello Billie !' ........................................ passed</system-out>
  </testcase>
</testsuite>
