[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url demoBaseUrl","result":{"duration":9369,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4}]},{"line":6,"name":"upload image - multipart","description":"","id":"upload-image---multipart","type":"scenario","keyword":"Scenario","steps":[{"name":"path 'files'","result":{"duration":2479806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":7},{"name":"multipart file myFile = { read: 'karate-logo.jpg', filename: 'karate-logo.jpg', contentType: 'image\/jpg' }","result":{"duration":418465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":8},{"name":"multipart field message = 'image test'","result":{"duration":2428979,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":9},{"name":"method post","result":{"duration":14295814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":10,"doc_string":{"content_type":"","value":"11:05:00.494 request:\n1 > POST http:\/\/127.0.0.1:51918\/files\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 13978\n1 > Content-Type: multipart\/form-data; boundary=wf410-LF-bE1yn9a7Tc1L_Lsdm6WiXvuog66kA\n1 > Host: 127.0.0.1:51918\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:05:00.506 response time in milliseconds: 11.36\n1 < 200\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Date: Tue, 09 Apr 2019 14:05:00 GMT\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < X-Content-Type-Options: nosniff\n1 < X-Frame-Options: DENY\n1 < X-XSS-Protection: 1; mode=block\n{\"id\":\"495122be-3e5c-464e-868f-e96734df40dc\",\"filename\":\"karate-logo.jpg\",\"message\":\"image test\",\"contentType\":\"image\/jpg\"}","line":10}},{"name":"status 200","result":{"duration":4869,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":11},{"name":"match response == { id: '#uuid', filename: 'karate-logo.jpg', message: 'image test', contentType: 'image\/jpg' }","result":{"duration":252079,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":12},{"name":"def id = response.id","result":{"duration":3347278,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":13},{"name":"path 'files', id","result":{"duration":151145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":15},{"name":"method get","result":{"duration":9048185,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":16,"doc_string":{"content_type":"","value":"11:05:00.512 request:\n2 > GET http:\/\/127.0.0.1:51918\/files\/495122be-3e5c-464e-868f-e96734df40dc\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: 127.0.0.1:51918\n2 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:05:00.518 response time in milliseconds: 5.54\n2 < 200\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Disposition: attachment; filename=\"karate-logo.jpg\"\n2 < Content-Length: 13575\n2 < Content-Type: image\/jpg\n2 < Date: Tue, 09 Apr 2019 14:05:00 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < X-Content-Type-Options: nosniff\n2 < X-Frame-Options: DENY\n2 < X-XSS-Protection: 1; mode=block","line":16}},{"name":"status 200","result":{"duration":4859,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":17},{"name":"match response == read('karate-logo.jpg')","result":{"duration":8197279,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":18},{"name":"match header Content-Disposition contains 'attachment'","result":{"duration":3517160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":19},{"name":"match header Content-Disposition contains 'karate-logo.jpg'","result":{"duration":2361910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":20},{"name":"match header Content-Type == 'image\/jpg'","result":{"duration":2892523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":21}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url demoBaseUrl","result":{"duration":11931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4}]},{"line":24,"name":"upload image - binary request body","description":"","id":"upload-image---binary-request-body","type":"scenario","keyword":"Scenario","steps":[{"name":"path 'files', 'binary'","result":{"duration":9280713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":25},{"name":"param name = 'karate-logo.jpg'","result":{"duration":2164734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request read('karate-logo.jpg')","result":{"duration":3121958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"method post","result":{"duration":36347320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":28,"doc_string":{"content_type":"","value":"11:05:01.006 request:\n1 > POST http:\/\/127.0.0.1:51918\/files\/binary?name=karate-logo.jpg\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 13575\n1 > Content-Type: application\/octet-stream\n1 > Host: 127.0.0.1:51918\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:05:01.023 response time in milliseconds: 13.69\n1 < 200\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Date: Tue, 09 Apr 2019 14:05:00 GMT\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < X-Content-Type-Options: nosniff\n1 < X-Frame-Options: DENY\n1 < X-XSS-Protection: 1; mode=block\n{\"id\":\"7649f54f-65f7-4c6c-bad8-99bdf4a73479\",\"filename\":\"karate-logo.jpg\",\"message\":\"hello world\",\"contentType\":\"application\/octet-stream\"}","line":28}},{"name":"status 200","result":{"duration":5207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":29},{"name":"match response contains { id: '#uuid' }","result":{"duration":233338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"def id = response.id","result":{"duration":5163786,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"path 'files', id","result":{"duration":160124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":33},{"name":"method get","result":{"duration":18397749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":34,"doc_string":{"content_type":"","value":"11:05:01.034 request:\n2 > GET http:\/\/127.0.0.1:51918\/files\/7649f54f-65f7-4c6c-bad8-99bdf4a73479\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Host: 127.0.0.1:51918\n2 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:05:01.046 response time in milliseconds: 6.51\n2 < 200\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Content-Disposition: attachment; filename=\"karate-logo.jpg\"\n2 < Content-Length: 13575\n2 < Content-Type: application\/octet-stream\n2 < Date: Tue, 09 Apr 2019 14:05:00 GMT\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < X-Content-Type-Options: nosniff\n2 < X-Frame-Options: DENY\n2 < X-XSS-Protection: 1; mode=block","line":34}},{"name":"status 200","result":{"duration":4825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":35},{"name":"match responseBytes == read('karate-logo.jpg')","result":{"duration":3728312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"match header Content-Disposition contains 'karate-logo.jpg'","result":{"duration":326311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[{"name":"@mock-servlet-todo","line":23}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url demoBaseUrl","result":{"duration":7398,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4}]},{"line":40,"name":"upload stream - content-length should be sent correctly","description":"","id":"upload-stream---content-length-should-be-sent-correctly","type":"scenario","keyword":"Scenario","steps":[{"name":"path 'search', 'headers'","result":{"duration":161797,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":41},{"name":"param name = 'karate-logo.jpg'","result":{"duration":78816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request read('karate-logo.jpg')","result":{"duration":405522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"method post","result":{"duration":5313185,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":44,"doc_string":{"content_type":"","value":"11:05:01.198 request:\n1 > POST http:\/\/127.0.0.1:51918\/search\/headers?name=karate-logo.jpg\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 13575\n1 > Content-Type: application\/octet-stream\n1 > Host: 127.0.0.1:51918\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\n\n11:05:01.202 response time in milliseconds: 3.37\n1 < 200\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Date: Tue, 09 Apr 2019 14:05:00 GMT\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < X-Content-Type-Options: nosniff\n1 < X-Frame-Options: DENY\n1 < X-XSS-Protection: 1; mode=block\n{\"content-type\":[\"application\/octet-stream\"],\"content-length\":[\"13575\"],\"host\":[\"127.0.0.1:51918\"],\"connection\":[\"Keep-Alive\"],\"user-agent\":[\"Apache-HttpClient\/4.5.5 (Java\/1.8.0_181)\"],\"accept-encoding\":[\"gzip,deflate\"]}","line":44}},{"name":"status 200","result":{"duration":4788,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":45},{"name":"match response['content-length'][0] == '13575'","result":{"duration":2475325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46}],"tags":[{"name":"@mock-servlet-todo","line":39}]}],"name":"demo\/upload\/upload-image.feature","description":"file upload end-point","id":"file-upload-end-point","keyword":"Feature","uri":"demo\/upload\/upload-image.feature"}]