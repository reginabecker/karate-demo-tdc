<testsuite failures="0" name="demo/headers/content-type.feature" skipped="0" tests="8" time="0.226099">
  <testcase classname="demo.headers.content-type" name="json post with charset" time="0.035788">
    <system-out>* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/json; charset=utf-8' ............... passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And match header content-type contains 'application/json' ................. passed
And match header content-type contains 'charset=utf-8' .................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json' ................................ passed
And match temp contains 'charset=utf-8' ................................... passed</system-out>
  </testcase>
  <testcase classname="demo.headers.content-type" name="form post with charset" time="0.030183">
    <system-out>* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/json; charset=utf-8' ............... passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And match header content-type contains 'application/json' ................. passed
And match header content-type contains 'charset=utf-8' .................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json' ................................ passed
And match temp contains 'charset=utf-8' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/x-www-form-urlencoded; charset=utf-8' . passed
And form field foo = 'bar' ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/x-www-form-urlencoded' ............... passed</system-out>
  </testcase>
  <testcase classname="demo.headers.content-type" name="json post with with charset and version" time="0.025209">
    <system-out>* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/json; charset=utf-8' ............... passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And match header content-type contains 'application/json' ................. passed
And match header content-type contains 'charset=utf-8' .................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json' ................................ passed
And match temp contains 'charset=utf-8' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/x-www-form-urlencoded; charset=utf-8' . passed
And form field foo = 'bar' ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/x-www-form-urlencoded' ............... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/json; charset=utf-8; version=1.2.3' . passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json;' ............................... passed
And match temp contains 'charset=utf-8' ................................... passed
And match temp contains 'version=1.2.3' ................................... passed</system-out>
  </testcase>
  <testcase classname="demo.headers.content-type" name="json post with with unusual content-type and parameter" time="0.029152">
    <system-out>* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/json; charset=utf-8' ............... passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And match header content-type contains 'application/json' ................. passed
And match header content-type contains 'charset=utf-8' .................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json' ................................ passed
And match temp contains 'charset=utf-8' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/x-www-form-urlencoded; charset=utf-8' . passed
And form field foo = 'bar' ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/x-www-form-urlencoded' ............... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/json; charset=utf-8; version=1.2.3' . passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json;' ............................... passed
And match temp contains 'charset=utf-8' ................................... passed
And match temp contains 'version=1.2.3' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/vnd.app.test+json;ton-version=1' ... passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/vnd.app.test+json;' .................. passed
And match temp contains 'charset=utf-8' ................................... passed
And match temp contains 'ton-version=1' ................................... passed</system-out>
  </testcase>
  <testcase classname="demo.headers.content-type" name="json post with with unusual content-type and configure-headers" time="0.015082">
    <system-out>* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/json; charset=utf-8' ............... passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And match header content-type contains 'application/json' ................. passed
And match header content-type contains 'charset=utf-8' .................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json' ................................ passed
And match temp contains 'charset=utf-8' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/x-www-form-urlencoded; charset=utf-8' . passed
And form field foo = 'bar' ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/x-www-form-urlencoded' ............... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/json; charset=utf-8; version=1.2.3' . passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json;' ............................... passed
And match temp contains 'charset=utf-8' ................................... passed
And match temp contains 'version=1.2.3' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/vnd.app.test+json;ton-version=1' ... passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/vnd.app.test+json;' .................. passed
And match temp contains 'charset=utf-8' ................................... passed
And match temp contains 'ton-version=1' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
* configure headers = function(){ return {'Content-Type': 'application/vnd.app.test+json;ton-version=1'} } . passed
Given path 'search', 'headers' ............................................ passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/vnd.app.test+json;' .................. passed
And match temp contains 'charset=utf-8' ................................... passed
And match temp contains 'ton-version=1' ................................... passed</system-out>
  </testcase>
  <testcase classname="demo.headers.content-type" name="empty string as content-type" time="0.010568">
    <system-out>* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/json; charset=utf-8' ............... passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And match header content-type contains 'application/json' ................. passed
And match header content-type contains 'charset=utf-8' .................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json' ................................ passed
And match temp contains 'charset=utf-8' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/x-www-form-urlencoded; charset=utf-8' . passed
And form field foo = 'bar' ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/x-www-form-urlencoded' ............... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/json; charset=utf-8; version=1.2.3' . passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json;' ............................... passed
And match temp contains 'charset=utf-8' ................................... passed
And match temp contains 'version=1.2.3' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/vnd.app.test+json;ton-version=1' ... passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/vnd.app.test+json;' .................. passed
And match temp contains 'charset=utf-8' ................................... passed
And match temp contains 'ton-version=1' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
* configure headers = function(){ return {'Content-Type': 'application/vnd.app.test+json;ton-version=1'} } . passed
Given path 'search', 'headers' ............................................ passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/vnd.app.test+json;' .................. passed
And match temp contains 'charset=utf-8' ................................... passed
And match temp contains 'ton-version=1' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = '' .............................................. passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def temp = response['content-type'][0] ................................ passed
And match temp == '' ...................................................... passed</system-out>
  </testcase>
  <testcase classname="demo.headers.content-type" name="json post with header but NO charset" time="0.047565">
    <system-out>* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/json; charset=utf-8' ............... passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And match header content-type contains 'application/json' ................. passed
And match header content-type contains 'charset=utf-8' .................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json' ................................ passed
And match temp contains 'charset=utf-8' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/x-www-form-urlencoded; charset=utf-8' . passed
And form field foo = 'bar' ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/x-www-form-urlencoded' ............... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/json; charset=utf-8; version=1.2.3' . passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json;' ............................... passed
And match temp contains 'charset=utf-8' ................................... passed
And match temp contains 'version=1.2.3' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/vnd.app.test+json;ton-version=1' ... passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/vnd.app.test+json;' .................. passed
And match temp contains 'charset=utf-8' ................................... passed
And match temp contains 'ton-version=1' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
* configure headers = function(){ return {'Content-Type': 'application/vnd.app.test+json;ton-version=1'} } . passed
Given path 'search', 'headers' ............................................ passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/vnd.app.test+json;' .................. passed
And match temp contains 'charset=utf-8' ................................... passed
And match temp contains 'ton-version=1' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = '' .............................................. passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def temp = response['content-type'][0] ................................ passed
And match temp == '' ...................................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And configure charset = null .............................................. passed
And header Content-Type = 'application/json' .............................. passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json' ................................ passed
And match temp !contains 'charset=utf-8' .................................. passed</system-out>
  </testcase>
  <testcase classname="demo.headers.content-type" name="json post with default header but NO charset" time="0.032552">
    <system-out>* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/json; charset=utf-8' ............... passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And match header content-type contains 'application/json' ................. passed
And match header content-type contains 'charset=utf-8' .................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json' ................................ passed
And match temp contains 'charset=utf-8' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/x-www-form-urlencoded; charset=utf-8' . passed
And form field foo = 'bar' ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/x-www-form-urlencoded' ............... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/json; charset=utf-8; version=1.2.3' . passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json;' ............................... passed
And match temp contains 'charset=utf-8' ................................... passed
And match temp contains 'version=1.2.3' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = 'application/vnd.app.test+json;ton-version=1' ... passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/vnd.app.test+json;' .................. passed
And match temp contains 'charset=utf-8' ................................... passed
And match temp contains 'ton-version=1' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
* configure headers = function(){ return {'Content-Type': 'application/vnd.app.test+json;ton-version=1'} } . passed
Given path 'search', 'headers' ............................................ passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/vnd.app.test+json;' .................. passed
And match temp contains 'charset=utf-8' ................................... passed
And match temp contains 'ton-version=1' ................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And header Content-Type = '' .............................................. passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def temp = response['content-type'][0] ................................ passed
And match temp == '' ...................................................... passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And configure charset = null .............................................. passed
And header Content-Type = 'application/json' .............................. passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json' ................................ passed
And match temp !contains 'charset=utf-8' .................................. passed
* url demoBaseUrl ......................................................... passed
* configure lowerCaseResponseHeaders = true ............................... passed
Given path 'search', 'headers' ............................................ passed
And configure charset = null .............................................. passed
And request { foo: 'bar' } ................................................ passed
When method post .......................................................... passed
Then status 200 ........................................................... passed
And def response = karate.lowerCase(response) ............................. passed
And def temp = response['content-type'][0] ................................ passed
And match temp contains 'application/json' ................................ passed
And match temp !contains 'charset=utf-8' .................................. passed</system-out>
  </testcase>
</testsuite>
